–ö–∞–∫–∏–µ –∑–∞–¥–∞—á–∏ –Ω–∞–º –Ω—É–∂–Ω–æ —Ä–µ—à–∏—Ç—å —Å –≤–ø–Ω: 
- –¥–æ—Å—Ç—É–ø –¥–æ —Ä–æ—É—Ç–µ—Ä–æ–≤ –¥—Ä—É–≥–∏—Ö –æ—Ñ–∏—Å–æ–≤
- –¥–æ—Å—Ç—É–ø –∫ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–º –∏ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–º —Ä–µ—Å—É—Ä—Å–∞–º –∏–∑ –æ—Ñ–∏—Å–Ω–æ–π —Å–µ—Ç–∏ 
- –¥–æ—Å—Ç—É–ø –∫ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–º –∏ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–º —Ä–µ—Å—É—Ä—Å–∞–º —Å windows, osx, linux –∏ —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤. –¢–µ—Å—Ç–µ—Ä—ã –±–µ—Ä—É—Ç —Ç–µ–ª–µ—Ñ–æ–Ω—ã –¥–æ–º–æ–π. –°–µ–π—á–∞—Å –º–Ω–µ –∫–∞–∂–µ—Ç—Å—è –ø—Ä–æ—à–µ —ç—Ç–æ –±—É–¥–µ—Ç —Å–¥–µ–ª–∞—Ç—å —á–µ—Ä–µ–∑–Ω –æ–±—ã—á–Ω—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª OpenVPN LDAP –¥–æ –æ—Ñ–∏—Å–æ–≤, –∞ —Å –Ω–∏—Ö —É–∂–µ –º–æ—â–Ω—ã–µ –≤–ø–Ω –º–∞—Ä—à—Ä—É—Ç–∏–∑–∏—Ä—É—é—Ç —Ç—Ä–∞—Ñ–∏–∫. 
  


VLESS + reality

Nekoray –æ—á–µ–Ω—å –º–µ–¥–ª–µ–Ω–Ω—ã–π, —Å–æ–≤–µ—Ç—É—é —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–∞ —Ä–æ—É—Ç–µ—Ä Openwrt –∏ –ø–æ—Å—Ç–∞–≤–∏—Ç—å —Ç—É–¥–∞ v2rayA –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è vless –Ω–∞ –≤–µ—Å—å —Ä–æ—É—Ç–µ—Ä

–í–æ–ø—Ä–æ—Å—ã 

active probing???
–±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è –ª–∏ socks5 –ø—Ä–æ–∫—Å–∏? –ø–æ—Ç–æ–º—É —á—Ç–æ —á–µ—Ä–µ–∑ https —Ç–æ–ª—å–∫–æ https –º—ã –∏ –ø—É—Å—Ç–∏–º —Ç—Ä–∞—Ñ–∏–∫. 

VLESS –∏–º–µ–µ—Ç –≥–æ—Ä–∞–∑–¥–æ –±–æ–ª–µ–µ —à–∏—Ä–æ–∫–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏: –ù–∞–ø—Ä–∏–º–µ—Ä, –æ–Ω –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —á–µ—Ä–µ–∑ CDN (Content Delivery Networks) –±–ª–∞–≥–æ–¥–∞—Ä—è —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç—É WS, gRPC –∏ HTTPUpgrade. ????


–ø–æ—á–µ–º—É –µ—Å–ª–∏ —è —Ö–æ—á—É, —á—Ç–æ–±—ã –º–æ–∏ –∑–∞–ø—Ä–æ—Å—ã —É—Ö–æ–¥–∏–ª–∏ —á–µ—Ä–µ–∑ –∞–π–ø–∏ —Å–µ—Ä–≤–µ—Ä–∞, –º–Ω–µ –Ω—É–∂–Ω–æ –ø—Ä–æ–ø–∏—Å–∞—Ç—å –≤–æ—Ç —Ç–∞–∫–æ–µ: 
PostDown = iptables -t nat -D POSTROUTING -s 192.168.10.0/24 -o eth0 -j MASQUERADE

PostUp = iptables -A INPUT -p udp -m state --state NEW -m udp --dport 51820 -j ACCEPT && iptables -A INPUT -i wg0 -j ACCEPT


[root@jingru centos]# ip rule ls

ip route add default via 10.10.22.1 dev wg0 table germany
ip ru add from 192.168.11.0/24 lookup germany 

https://datahacker.blog/industry/technology-menu/networking/routes-and-rules/iproute-and-routing-tables


–≤ –Ω–æ–≤—ã—Ö —É—Å–ª–æ–≤–∏—è—Ö –Ω–∞–¥–æ —Å—Ä–∞–∑—É –±—ã—Ç—å –≥–æ—Ç–æ–≤—ã–º–∏ –∫ –æ—Ç–∫–∞–∑—É –æ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—à–µ–∫.  
–∏–Ω—Ç–µ–≥—Ä–∞—à–∫–æ–π —è –Ω–∞–∑—ã–≤–∞—é —É–¥–æ–±–Ω–æ-–ø—Ä–æ—Å—Ç—É—é —Å–∏—Å—Ç–µ–º—É —Å –≤–µ–± –º–æ—Ä–¥–æ–π, –≤ –∫–æ—Ç–æ—Ä–æ–π –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –∫—É—á–∞ —Ä–∞–∑–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π.  
–∏–ª–∏ —Ö–æ—Ç—è –±—ã –±—ã—Ç—å –≥–æ—Ç–æ–≤—ã–º –∫ –≤—ã—Ö–æ–¥—É –∑–∞ –ø—Ä–µ–¥–µ–ª—ã –∏–Ω—Ç–µ–≥—Ä–∞—à–∫–∏  
–≤ —Å–ª—É—á–∞–µ pfsense –º–æ–∂–Ω–æ –≤—ã–π—Ç–∏ –Ω–∞ —É—Ä–æ–≤–µ–Ω—å freebsd.  
–Ω–æ PF —Ñ–∞–µ—Ä–≤–æ–ª –Ω–µ –æ—á–µ–Ω—å —Ö–æ—Ä–æ—à —Ç–µ–º, —á—Ç–æ –ø—Ä–∏–¥–µ—Ç—Å—è –≤–ø–∏—Å—ã–≤–∞—Ç—å —Å–≤–æ–∏ —è–∫–æ—Ä—è –≤ –∫–æ–¥ —Å–∫—Ä–∏–ø—Ç–æ–≤ —Å–∞–º–æ–≥–æ pfsense. –æ—Ç–¥–µ–ª—å–Ω—É—é —Ç–∞–±–ª–∏—á–∫—É nftables –∏–ª–∏ —Å–≤–æ–∏ iptables –Ω–µ —Ç—Ä–æ–≥–∞—è –∫–æ–¥ –æ—Å–Ω–æ–≤–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –Ω–µ –≤—ã–π–¥–µ—Ç –∑–∞–ª–µ–ø–∏—Ç—å —Ç—É–¥–∞.  
–µ—Å–ª–∏ –∑–Ω–∞–µ—à—å freebsd –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ö–æ—Ä–æ—à–æ , —Ç–æ –≤–∞—Ä–∏–∞–Ω—Ç. –Ω–æ —è —Å—á–∏—Ç–∞—é linux –∏–º–µ–µ—Ç –±–æ–ª—å—à–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π –∫–∞–∫ –Ω–∞ —É—Ä–æ–≤–Ω–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ—Ç—å—é, —Ç–∞–∫ –∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ–≥–æ —Å–æ—Ñ—Ç–∞


–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–µ OpenVPN, Wireguard –∏ IPSec –æ—Ç–º–µ—Ç–∞–µ–º —Å—Ä–∞–∑—É - –∏—Ö —É–∂–µ –¥–∞–≤–Ω–æ —É–º–µ—é—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –∏ –±–ª–æ–∫–∏—Ä–æ–≤–∞–ª–∏ –Ω–µ —Ä–∞–∑. [–ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π Wireguard –æ—Ç –ø—Ä–æ–µ–∫—Ç–∞ Amnezia –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º AmneziaWG](http://web.archive.org/web/20240831134917/https://habr.com/ru/companies/amnezia/articles/769992/)¬†‚Äî –æ—Ç–ª–∏—á–Ω–∞—è –∑–∞–¥—É–º–∫–∞, –Ω–æ –µ—Å—Ç—å –æ–¥–Ω–æ _–Ω–æ_. –ù–µ–∫–æ—Ç–æ—Ä–æ–µ –≤—Ä–µ–º—è –Ω–∞–∑–∞–¥, –≤–æ –≤—Ä–µ–º—è –∏–∑–≤–µ—Å—Ç–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π –≤ –î–∞–≥–µ—Å—Ç–∞–Ω–µ, –†–ö–ù –ø—ã—Ç–∞–ª—Å—è –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å Telegram –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Ä–µ–≥–∏–æ–Ω–∞—Ö. Telegram-–ø—Ä–æ–∫—Å–∏ –¥–ª—è DPI –≤—ã–≥–ª—è–¥—è—Ç —Å–æ–≤—Å–µ–º –Ω–µ–¥–µ—Ç–µ–∫—Ç–∏—Ä—É–µ–º–æ - –∫–∞–∫ –Ω–∞–±–æ—Ä —Ä–∞–Ω–¥–æ–º–Ω—ã—Ö –±–∞–π—Ç –±–µ–∑ –∫–∞–∫–∏—Ö-—Ç–æ —Å–∏–≥–Ω–∞—Ç—É—Ä. –ò –∑–Ω–∞–µ—Ç–µ —á—Ç–æ —Å–¥–µ–ª–∞–ª –†–ö–ù? –û–Ω–∏ –ø—Ä–æ—Å—Ç–æ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–ª–∏¬†_–≤—Å–µ_¬†–Ω–µ–æ–ø–æ–∑–Ω–∞–Ω–Ω—ã–µ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã, —Ä–∞–±–æ—Ç–∞—â–∏–µ –ø–æ–≤–µ—Ä—Ö TCP. HTTP —Ä–∞–±–æ—Ç–∞–µ—Ç, HTTPS —Ä–∞–±–æ—Ç–∞–µ—Ç, SMTP —Ä–∞–±–æ—Ç–∞–µ—Ç, IMAP —Ä–∞–±–æ—Ç–∞–µ—Ç, –∞ –≤—Å–µ —á—Ç–æ "–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ–µ –∏ –Ω–∏ –Ω–∞ —á—Ç–æ –Ω–µ –ø–æ—Ö–æ–∂–µ–µ" - –Ω–µ—Ç.

–ü–æ—ç—Ç–æ–º—É –Ω–∞–¥–æ –∏—Å–∫–∞—Ç—å —á—Ç–æ-—Ç–æ, —á—Ç–æ –Ω–µ —Ç–æ–ª—å–∫–æ —Å–∫—Ä—ã–≤–∞–µ—Ç —Ç—Ä–∞—Ñ–∏–∫, –Ω–æ –∏ —É–º–µ–µ—Ç –º–∞—Å–∫–∏—Ä–æ–≤–∞—Ç—å—Å—è –ø–æ–¥ —á—Ç–æ-–Ω–∏–±—É–¥—å –±–µ–∑–æ–±–∏–¥–Ω–æ–µ. –ù–∞ –•–∞–±—Ä–µ —É–∂–µ –Ω–µ —Ä–∞–∑ —É–ø–æ–º–∏–Ω–∞–ª–∏ –ø—Ä–æ [Cloak](http://web.archive.org/web/20240831134917/https://github.com/cbeuw/Cloak), –≤ –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ —Å–ø—Ä—è—Ç–∞—Ç—å OpenVPN, –∑–∞–º–∞—Å–∫–∏—Ä–æ–≤–∞–≤ –µ–≥–æ –ø–æ–¥ –∫–∞–∫–æ–π-–Ω–∏–±—É–¥—å –ø–æ–ø—É–ª—è—Ä–Ω—ã–π –≤–µ–±-—Å–∞–π—Ç, —Ç–∞–∫–æ–π –≤–∞—Ä–∏–∞–Ω—Ç —Ç–æ–∂–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –≤ –∫–ª–∏–µ–Ω—Ç–µ Amnezia, –Ω–æ –æ–Ω–∏ —Å–∞–º–∏ –ø–∏—à—É—Ç, —á—Ç–æ —Å–∫–æ—Ä–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã —É —Ç–∞–∫–æ–π —Å–≤—è–∑–∫–∏ –Ω–µ –æ—á–µ–Ω—å.


–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–º–∏ VPN-–ø—Ä–æ—Ç–æ–∫–æ–ª–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –≤–Ω–µ—à–Ω–µ –Ω–µ–æ—Ç–ª–∏—á–∏–º—ã –æ—Ç –æ–±—ã—á–Ω–æ–≥–æ HTTP —è–≤–ª—è—é—Ç—Å—è SoftEther, MS SSTP –∏ AnyConnect/OpenConnect. –í —Å–≤–æ–µ–π –ø–µ—Ä–≤–æ–π —Å—Ç–∞—Ç—å–µ "[–ò–Ω—Ç–µ—Ä–Ω–µ—Ç-—Ü–µ–Ω–∑—É—Ä–∞ –∏ –æ–±—Ö–æ–¥ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫: –Ω–µ –≤—Ä–µ–º—è —Ä–∞—Å—Å–ª–∞–±–ª—è—Ç—å—Å—è](http://web.archive.org/web/20240831134917/https://habr.com/ru/articles/710980/)" —è –æ–±—Ä–∞—â–∞–ª –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ —Ç–æ, —á—Ç–æ –≤—Å–µ –æ–Ω–∏ –Ω–∞ —Ç–æ—Ç –º–æ–º–µ–Ω—Ç –±—ã–ª–∏ —É—è–∑–≤–∏–º—ã –∫ –¥–µ—Ç–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—é –º–µ—Ç–æ–¥–æ–º active probing, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–ª–æ –∏—Ö —ç–ª–µ–º–µ–Ω—Ç–∞—Ä–Ω–æ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å. –û–¥–Ω–∞–∫–æ —Å –Ω–µ–¥–∞–≤–Ω–∏—Ö –ø–æ—Ä –≤ –Ω–æ–≤—ã–µ –≤–µ—Ä—Å–∏–∏ —Å–µ—Ä–≤–µ—Ä–∞ OpenConnect –∑–∞–≤–µ–∑–ª–∏ –∑–∞—â–∏—Ç—É –æ—Ç —Ç–∞–∫–æ–≥–æ, –∏ —Ç–µ–ø–µ—Ä—å –∏–º –≤–ø–æ–ª–Ω–µ –º–æ–∂–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è.

–í –æ—Ç–ª–∏—á–∏–µ –æ—Ç **OpenVPN**, **IPSec** –∏ **WG** –æ–Ω –≤–Ω–µ—à–Ω–µ –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ —Å–∞–º–æ–µ –æ–±—ã—á–Ω–æ–µ HTTPS-–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ.

–í –æ—Ç–ª–∏—á–∏–µ –æ—Ç **SoftEther VPN**, –¥–ª—è –Ω–µ–≥–æ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –∫–ª–∏–µ–Ω—Ç—ã –ø–æ–¥ –≤—Å–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã: Windows, Linux, macOS, Android, iOS, –¥–∞ –∏ –Ω–µ –æ–¥–Ω–∏ (–æ–± —ç—Ç–æ–º –º—ã –ø–æ–≥–æ–≤–æ—Ä–∏–º —á—É—Ç—å –ø–æ–∑–∂–µ). –ù—É –∏ –µ—Å—Ç—å –∑–∞—â–∏—Ç–∞ –æ—Ç active probing.

–í —Å—Ä–∞–≤–Ω–µ–Ω–∏–∏ —Å **MS SSTP** —É –Ω–µ–≥–æ –±–æ–ª–µ–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–∞—è —Å–µ—Ä–≤–µ—Ä–Ω–∞—è —á–∞—Å—Ç—å –ø–æ–¥ Linux, –∞ –µ—â–µ, –∫–æ–≥–¥–∞ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ —Ç—Ä–∞—Ñ–∏–∫–∞ –Ω–µ –æ—Å—É—â–µ–≤–ª—è–µ—Ç—Å—è, –æ–Ω –º–æ–∂–µ—Ç –≤ –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∫ HTTPS TLS-–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—é –ø–æ–¥–Ω–∏–º–∞—Ç—å DTLS –ø–æ–≤–µ—Ä—Ö UDP –¥–ª—è –µ—â–µ –±–æ–ª–µ–µ –ª—É—á—à–µ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (Softether —Ç–æ–∂–µ —É–º–µ–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å UDP, –Ω–æ —É –Ω–∏—Ö —Å–≤–æ–π –≤—ã–≥–ª—è–¥—è—â–∏–π "–Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–º" –ø—Ä–æ—Ç–æ–∫–æ–ª, –∞ –∑–¥–µ—Å—å –∂–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã–π –∏ –≤—Å–µ–º –∏–∑–≤–µ—Å—Ç–Ω—ã–π DTLS, –∫–æ—Ç–æ—Ä—ã–π, –Ω–∞–ø—Ä–∏–º–µ—Ä, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ WebRTC). –ù—É –∏ –µ—Å—Ç—å –∑–∞—â–∏—Ç–∞ –æ—Ç active probing.


–≤ –≤–µ—Ä—Å–∏–∏ 1.2.0 –¥–æ–±–∞–≤–∏–ª–∏ —Ä–µ–∂–∏–º "camouflage" –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç active probing;  
–≤ –≤–µ—Ä—Å–∏–∏ 1.2.1 –¥–æ–±–∞–≤–∏–ª–∏ –ø–æ–¥–¥–µ—Ä–∂–∫—É –∫–ª–∏–µ–Ω—Ç–∞ OneConnect (–æ–± —ç—Ç–æ–º —á—É—Ç—å –ø–æ–∑–∂–µ);  
–≤ –≤–µ—Ä—Å–∏–∏ 1.2.3 (–æ–Ω–∞ –µ—â–µ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ –Ω–µ –∑–∞—Ä–µ–∑–∏–ª–∏–∑–∞—Å—å!) –ø–æ–ø—Ä–∞–≤–∏–ª–∏ –±–∞–≥, –∫–æ—Ç–æ—Ä—ã–π –º–µ—à–∞–ª –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—é –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤ –æ—Ç Cisco –ø—Ä–∏ –≤–∫–ª—é—á–µ–Ω–Ω–æ–π –º–∞—Å–∫–∏—Ä–æ–≤–∫–µ (–ø–æ —Ñ–∞–∫—Ç—É –º–æ–±–∏–ª—å–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ –∏ —Å 1.2.2, –∞ –≤–æ—Ç –¥–µ—Å–∫—Ç–æ–ø–Ω–∞—è —Å –≤–∫–ª—é—á–µ–Ω–Ω–æ–π –º–∞—Å–∫–∏—Ä–æ–≤–∫–æ–π –ø–æ–¥–∫–ª—é—á–∞—Ç—å—Å—è –æ—Ç–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è).



–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é –Ω–∞ –∫–∞–Ω–∞–ª–µ ! 1. –≠—Ç–æ –Ω–µ –∞–≥–∏—Ç–∞—Ü–∏—è, —è –ª–∏—à—å –ø–æ–∫–∞–∑—ã–≤–∞—é —Ç–æ, —á–µ–º —Å–∞–º –ø–æ–ª—å–∑—É—é—Å—å –∏ –∑–Ω–∞—á–∏—Ç –¥–æ–≤–µ—Ä—è—é. 2. –û—Ç–ª–∏—á–∏–µ –æ—Ç WG –∫–∞–∫ –º–∏–Ω–∏–º—É–º –≤ —Ç–æ–º, —á—Ç–æ –í–∞–º –Ω–µ –Ω—É–∂–µ–Ω —Å–µ—Ä–≤–µ—Ä –¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –¥–æ—Å—Ç—É–ø–∞ –∫ –í–∞—à–∏–º —Ä–µ—Å—É—Ä—Å–∞–º. +peer2peer —Å–æ–µ–¥–µ–Ω–µ–Ω–∏–µ —á—Ç–æ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è "–∏–∑ –∫–æ—Ä–æ–±–∫–∏" 3. –í—ã –º–æ–∂–µ—Ç–µ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å —Å–≤–æ–π —Å–µ—Ä–≤–µ—Ä —Å netbird \ netmaker –∏ –Ω–µ –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö —Ä–µ—à–µ–Ω–∏–π. –°–ø–∞—Å–∏–±–æ –∑–∞ –ª–∞–π–∫\–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π\–ø–æ–¥–ø–∏—Å–∫—É\–¥–æ–Ω–∞—Ç –∏ –ª—é–±—É—é –¥—Ä—É–≥—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É –ø—Ä–æ–µ–∫—Ç–∞! –£–¥–∞—á–Ω–æ–≥–æ —Å–∞–º–æ—Ö–æ—Å—Ç–∏–Ω–≥–∞!


A split tunnel SSL VPN is a way better option - entirely self hosted and self configurable, and only the traffic that needs to go over the VPN does so (this negates the "everything goes through the VPN device" point that Chuck makes, only specific traffic that you define will go through it)- and their are products out there for this that also have ACLs etc. - I hate the idea of this going through a 3rd party service/server to access a private network.

Nice technology. I wonder if this protocol will be abused. When a PC is behind NAT , a home router uses Port-NAT. A statefull firewall "expects" data on the inbound port. Since the TwinGate client installed on a PC behind a NAT. It is basicly a backdoor relayer (SOCK5 proxy) in your LAN environment. Why? External users can connect to other devices in your LAN. Oh well, it is a cool tech, but I hope IDS/IPS firewall can detect this kind of traffic in business environment. A employee can easily make backdoors in your network if you are not carefull. Thanks for the clip and explanation.

https://www.twingate.com/docs/how-twingate-works
I think the bit about the client and connector talking directly to one another is technically incorrect. While the relay knows which IPs and ports the client and connector use (after NAT), you cannot have them connect to each other. That is because the NAT routers will only accept packets originating from the relay for those ports. So, in order to connect client and connector, the traffic has to be routed through the relay as a proxy. And while that traffic is probably encrypted, all of this is controlled by non-open software provided by Twingate. Thus, you essentially have to trust that Twingate is a. "not evil" and b. "stays secure". Also, the ressources that are being exposed are controlled via a cloud instance ("controller") and also, who may connect to them. You essentially delegate control over what can be accessed to Twingate, putting a remote control to your network in their hands (aka "firewall piercing"). Surely, nothing to worry about, huh?

https://habr.com/ru/articles/844760/
https://github.com/Jigsaw-Code/outline-ss-server/issues/108
https://docs.amnezia.org/documentation/amnezia-wg/

https://github.com/openwrt-xiaomi/awg-openwrt/wiki/AmneziaWG-installing#%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0-amneziawg-%D0%B8-%D0%B4%D1%80%D1%83%D0%B3%D0%B8%D1%85-%D0%BD%D1%83%D0%B6%D0%BD%D1%8B%D1%85-%D1%83%D1%82%D0%B8%D0%BB%D0%B8%D1%82-%D0%BD%D0%B0-vds-%D1%81%D0%B5%D1%80%D0%B2%D0%B5%D1%80%D0%B5
https://github.com/openwrt-xiaomi/awg-openwrt/wiki/AmneziaWG-installing#%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0-amneziawg-%D0%BD%D0%B0-openwrt-%D1%83%D1%81%D1%82%D1%80%D0%BE%D0%B9%D1%81%D1%82%D0%B2%D0%B5
http://web.archive.org/web/20240901091127/https://habr.com/ru/articles/835228/
http://web.archive.org/web/20240831134917/https://habr.com/ru/articles/776256/
https://habr.com/ru/articles/687512/
https://habr.com/ru/articles/770400/
https://habr.com/ru/articles/727868/
https://habr.com/ru/articles/731608/
https://habr.com/ru/articles/776256/
https://habr.com/ru/articles/774838/
https://habr.com/ru/articles/777656/
https://habr.com/ru/articles/728836/
https://habr.com/ru/articles/774838/


https://habr.com/ru/articles/839656/

https://habr.com/ru/articles/791724/
https://github.com/XTLS/Xray-core/discussions/3518
https://github.com/XTLS/Xray-core



XRAY —ç—Ç–æ –≤–ø–Ω —Å–µ–≤–µ—Ä. –£ –Ω–µ–≥–æ –µ—Å—Ç—å –ø—Ä–æ—Ç–æ–∫–ª—ã. VLESS –∏ VLITE 

–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ: —Ç–æ, —á—Ç–æ VLESS –Ω–µ –ø—Ä–µ–¥—É—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ —É—Ä–æ–≤–Ω–µ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞, –Ω–µ –∑–Ω–∞—á–∏—Ç, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ –Ω–µ—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–º –≤–∏–¥–µ. VLESS –≤—Å–µ–≥–¥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–≤–µ—Ä—Ö TLS, —Ç—Ä–∞—Ñ–∏–∫ —à–∏—Ñ—Ä—É–µ—Ç—Å—è –∏–º–µ–Ω–Ω–æ –º–µ—Ö–∞–Ω–∏–∑–º–∞–º–∏ TLS, –∞ –Ω–µ —Å–∞–º–æ–≥–æ VLESS.

Lite¬†–µ—Å—Ç—å —Ç–æ–ª—å–∫–æ –≤ V2Ray (–≤ XRay –µ–≥–æ –Ω–µ—Ç), –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ø–µ—Ä–µ–¥–∞—á—É UDP-–ø–∞–∫–µ—Ç–æ–≤, –∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –∏–º–µ–Ω–Ω–æ –¥–ª—è —ç—Ç–æ–≥–æ, —á—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª–µ–∑–Ω–æ, –Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è –æ–Ω–ª–∞–π–Ω –∏–≥—Ä, –Ω–æ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –ø—Ä–∏–¥–µ—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –µ—â–µ VMess/VLESS –¥–ª—è TCP ‚Äì –ø–æ—ç—Ç–æ–º—É —è —Å—á–∏—Ç–∞—é –µ–≥–æ —Ç–æ–ª—å–∫–æ ‚Äú–ø–æ–ª–æ–≤–∏–Ω–æ–π‚Äù

–° –ø—Ä–æ—Ç–æ–∫–æ–ª–∞–º–∏ –∑–∞–∫–æ–Ω—á–∏–ª–∏, –ø–µ—Ä–µ–π–¥–µ–º –∫ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞–º. VLESS, VMess –∏ –¥—Ä—É–≥–∏–µ –º–æ–≥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å, —Å–∫–∞–∂–µ–º —Ç–∞–∫, —Ä–∞–∑–Ω—ã–º –æ–±—Ä–∞–∑–æ–º. –°–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π –≤–∞—Ä–∏–∞–Ω—Ç ‚Äì –æ–±—ã—á–Ω—ã–π TCP-—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç. VMess+TCP –≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ –æ—á–µ–Ω—å –ø–æ—Ö–æ–∂ –Ω–∞ Shadowsocks, –∞ VLESS+TCP –Ω–µ –∏–º–µ–µ—Ç —Å–º—ã—Å–ª–∞ (–∏–∑-–∑–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è). –ë–æ–ª–µ–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç ‚Äì TLS-—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç, –∫–æ–≥–¥–∞ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –æ–±—ã—á–Ω–æ–µ TLS-–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ (–∫–∞–∫ –∏ –≤ —Å–ª—É—á–∞–µ —Å –ª—é–±—ã–º–∏ HTTPS-—Å–∞–π—Ç–∞–º–∏), –∞ —É–∂–µ –≤–Ω—É—Ç—Ä–∏ —ç—Ç–æ–≥–æ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–æ—Ç–æ–∫–æ–ª. V2Ray –∏ XRay —É–º–µ—é—Ç —Ç–∞–∫–∂–µ —Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ–≤–µ—Ä—Ö mKCP (–æ –Ω–µ–º –±—É–¥–µ—Ç –≤ —Å–ª–µ–¥—É—â–∏—Ö –≥–ª–∞–≤–∞—Ö), QUIC (aka HTTP/3, –ø—Ä–∞–≤–¥–∞ –≤ –†–æ—Å—Å–∏–∏ –µ–≥–æ –º–∞—Å—Å–æ–≤–æ –±–ª–æ–∫–∏—Ä—É—é—Ç –∏ —Å–º—ã—Å–ª–∞ –≤ –Ω–µ–º –º–∞–ª–æ), gRPC, –∏ —Å–∞–º–æ–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–µ ‚Äì —á–µ—Ä–µ–∑ Websockets.

–í–∞—Ä–∏–∞–Ω—Ç —Å Websockets –æ—á–µ–Ω—å —Ü–µ–Ω–µ–Ω —Ç–µ–º, —á—Ç–æ:

1. –ü–æ–∑–≤–æ–ª—è–µ—Ç –ª–µ–≥–∫–æ –ø–æ—Å—Ç–∞–≤–∏—Ç—å V2Ray/XRay –Ω–µ –ø–µ—Ä–µ–¥, –∞ –∑–∞ Nginx/Caddy/–ª—é–±—ã–º–¥—Ä—É–≥–∏–º–≤–µ–±—Å–µ—Ä–≤–µ—Ä–æ–º;
    
2. –ü–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–æ–ª–µ–∑–∞—Ç—å —á–µ—Ä–µ–∑ —Å—Ç—Ä–æ–≥–∏–µ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ —Ñ–∞–µ—Ä–≤–æ–ª—ã;
    
3. –î–æ–±–∞–≤–ª—è–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å –∑–∞—â–∏—Ç—ã (–Ω–µ –∑–Ω–∞—è URI –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –¥–æ—Å—Ç—É—á–∞—Ç—å—Å—è –¥–æ –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä–∞);
    
4. –ò —Å–∞–º–æ–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–µ ‚Äì –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —á–µ—Ä–µ–∑ CDN (upd.: gRPC —Ç–æ–∂–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç).¬†
    

–ù–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–º –ø—É–Ω–∫—Ç–µ –æ—Å—Ç–∞–Ω–æ–≤–∏–º—Å—è —á—É—Ç—å –ø–æ–¥—Ä–æ–±–Ω–µ–µ. –ù–µ–∫–æ—Ç–æ—Ä—ã–µ CDN, –≤ —Ç–æ–º —á–∏—Å–ª–µ –∏ –∏–º–µ—é—â–∏–µ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ —Ç–∞—Ä–∏—Ñ—ã, —Ç–∞–∫–∏–µ –∫–∞–∫¬†[Cloudflare](https://developers.cloudflare.com/support/network/using-cloudflare-with-websockets/)¬†–∏¬†[GCore](https://gcore.com/), —Ä–∞–∑—Ä–µ—à–∞—é—Ç –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–µ–±-—Å–æ–∫–µ—Ç–æ–≤ –¥–∞–∂–µ –Ω–∞ –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö —Ç–∞—Ä–∏—Ñ–∞—Ö. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, —ç—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ö–æ—Ä–æ—à–∏–º –ø–æ–¥—Å–ø–æ—Ä—å–µ–º ‚Äì –µ—Å–ª–∏ –ø–æ –∫–∞–∫–æ–π-—Ç–æ –ø—Ä–∏—á–∏–Ω–µ IP-–∞–¥—Ä–µ—Å –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ –ø–æ–ø–∞–ª –≤ –±–∞–Ω, –≤—ã –≤—Å–µ —Ä–∞–≤–Ω–æ –º–æ–∂–µ—Ç–µ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –Ω–µ–º—É —á–µ—Ä–µ–∑ CDN, –∞ –ø–æ–ª–Ω—ã–π –±–∞–Ω –≤—Å–µ–π CDN –≥–æ—Ä–∞–∑–¥–æ –º–µ–Ω–µ–µ –≤–µ—Ä–æ—è—Ç–µ–Ω, —á–µ–º –∫–∞–∫–æ–≥–æ-—Ç–æ –æ–¥–Ω–æ–≥–æ VPS. –ê –µ—â–µ Cloudflare (–≤–æ–∑–º–æ–∂–Ω–æ –∏ GCore —Ç–æ–∂–µ, –Ω–µ —É—Ç–æ—á–Ω—è–ª)¬†[—É–º–µ–µ—Ç](https://community.cloudflare.com/t/proxy-ipv4-visitors-to-ipv6-only-backend/115186/4)¬†–ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞—Ç—å IPv4 –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ IPv6 –∞–¥—Ä–µ—Å, —Ç–æ –µ—Å—Ç—å —Å–≤–æ–π –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä –≤—ã –º–æ–∂–µ—Ç–µ –ø–æ–¥–Ω—è—Ç—å –¥–∞–∂–µ –Ω–∞ –∫–æ–ø–µ–µ—á–Ω–æ–º (–º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –≤–∞—Ä–∏–∞–Ω—Ç—ã –∑–∞ 60 —Ü–µ–Ω—Ç–æ–≤ –≤ –º–µ—Å—è—Ü!) IPv6-only –∏–ª–∏ NAT VPS –±–µ–∑ IPv4 –∞–¥—Ä–µ—Å–∞, –∏ –Ω–∞–ø–ª–æ–¥–∏—Ç—å —Ç–∞–∫–∏—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤ —á—É—Ç—å –ª–∏ –Ω–µ –¥–µ—Å—è—Ç–æ–∫ –≤ —Ä–∞–∑–Ω—ã—Ö –ª–æ–∫–∞—Ü–∏—è—Ö üôÇ

https://paxvpn.com/elementor-830/